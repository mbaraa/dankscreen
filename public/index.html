<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DankScreen</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes"
    />
    <meta name="description" content="Use your capture card in the browser." />
    <meta
      name="keywords"
      content="dank,screen,dankscreen,capture,usb,browser,camera"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
  </head>
  <body>
    <main>
      <h1>DankScreen</h1>
      <form
        style="padding-top: 10px; padding-bottom: 10px"
        action="#"
        id="capture-form"
      >
        <label for="resolution">Resolution</label>
        <select id="resolution" name="resolution">
          <option value="1920x1080">1920x1080</option>
          <option value="1680x1050">1680x1050</option>
          <option value="1600x900">1600x900</option>
          <option value="1400x1050">1400x1050</option>
          <option value="1400x900">1400x900</option>
          <option value="1368x768">1368x768</option>
          <option value="1280x1024">1280x1024</option>
          <option value="1280x960">1280x960</option>
          <option value="1280x800">1280x800</option>
          <option value="1280x720">1280x720</option>
          <option value="1024x768">1024x768</option>
          <option value="1024x576">1024x576</option>
          <option value="960x576">960x576</option>
          <option value="800x600">800x600</option>
          <option value="864x486">864x486</option>
          <option value="720x405">720x405</option>
          <option value="640x480">640x480</option>
          <option value="640x360">640x360</option>
        </select>
        <!-- TODO: add audio shit -->
        <button id="show-video" type="submit">Do the thing</button>
      </form>
      <video
        id="capture-video"
        style="width: 640px; height: 360px"
        width="640"
        height="360"
        autoplay="true"
        id="videoElement"
        controls
        poster="/placeholder.webp"
      ></video>
    </main>
    <footer class="footer">
      <p class="footer">
        <span class="footer">
          Made with ðŸ§‰ by&nbsp;
          <a title="Baraa Al-Masri" href="https://mbaraa.com">
            <img
              class="footer"
              height="30"
              width="30"
              src="https://mbaraa.com/resources/images/favicon.png"
            />
          </a>
          &comma;&nbsp;
          <a title="Star it!" href="https://github.com/mbaraa/dankscreen">
            Star it!
          </a>
        </span>
      </p>
    </footer>
    <script src="/script.js"></script>
    <script type="module">
      function registerServiceWorkers() {
        if (!("serviceWorker" in navigator)) {
          console.error("Browser doesn't support service workers");
          return;
        }
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/service-worker.js")
            .then((reg) => {
              console.log("Service Worker Registered", reg);
            })
            .catch((err) => {
              console.log("Service Worker Registration failed:", err);
            });
        });
      }
      registerServiceWorkers();
    </script>
  </body>
</html>
